# 3.2.3 M√≥dulo Padr√µes de Projeto GoFs Criacionais

## GoF FINAL

<img src="(COLOCAR IMAGEM AQUI)"/>

### Vers√µes desenvolvidas

<details>
<summary>Vers√µes desenvolvidas por integrante:</summary>

<details>
<summary>Vers√£o do Pedro Gois:</summary>

#### Pedro
Interface 
```python
from abc import ABC, abstractmethod
from datetime import datetime
from enum import Enum


# -------------------------
# ENUMS E CLASSES DE SUPORTE
# -------------------------

class Status(Enum):
    PENDENTE = "pendente"
    APROVADA = "aprovada"
    REJEITADA = "rejeitada"


class MidiaDigital(ABC):
    @abstractmethod
    def tipo(self):
        pass


class Imagem(MidiaDigital):
    def __init__(self, caminho_arquivo):
        self.caminho_arquivo = caminho_arquivo

    def tipo(self):
        return "Imagem"


class Video(MidiaDigital):
    def __init__(self, caminho_arquivo):
        self.caminho_arquivo = caminho_arquivo

    def tipo(self):
        return "Video"


# -------------------------
# CLASSE PRODUTO
# -------------------------

class Memoria:
    def __init__(self, descricao, midia, data_envio, status):
        self.descricao = descricao
        self.midia = midia
        self.data_envio = data_envio
        self.status = status

    def __str__(self):
        return (f"Mem√≥ria enviada em {self.data_envio.strftime('%d/%m/%Y %H:%M:%S')}, "
                f"status: {self.status.name}, descri√ß√£o: {self.descricao}, "
                f"m√≠dia: {self.midia.tipo()}")


# -------------------------
# PADR√ÉO BUILDER
# -------------------------

class MemoriaBuilder(ABC):
    @abstractmethod
    def setDescricao(self, descricao): pass

    @abstractmethod
    def setMidia(self, midia): pass

    @abstractmethod
    def build(self): pass


class MemoriaPendenteBuilder(MemoriaBuilder):
    def __init__(self):
        self.descricao = None
        self.midia = None

    def setDescricao(self, descricao):
        self.descricao = descricao
        return self

    def setMidia(self, midia):
        self.midia = midia
        return self

    def build(self):
        return Memoria(
            descricao=self.descricao,
            midia=self.midia,
            data_envio=datetime.now(),
            status=Status.PENDENTE
        )


class DiretorEnvioMemoria:
    def __init__(self, builder: MemoriaBuilder):
        self.builder = builder

    def construirMemoria(self, descricao, midia):
        return self.builder.setDescricao(descricao).setMidia(midia).build()


# -------------------------
# CLASSES DE USU√ÅRIO
# -------------------------

class Estudante:
    def __init__(self, nome):
        self.nome = nome
        self.minhas_memorias = []

    def adicionar_memoria(self, memoria):
        self.minhas_memorias.append(memoria)


class Administrador:
    def aprovar(self, memoria):
        memoria.status = Status.APROVADA
        print("‚úî Mem√≥ria aprovada.")

    def rejeitar(self, memoria):
        memoria.status = Status.REJEITADA
        print("‚úñ Mem√≥ria rejeitada.")


# -------------------------
# PADR√ÉO FACADE
# -------------------------

class FachadaMemoria:
    def __init__(self, administrador: Administrador):
        self.administrador = administrador

    def enviar_memoria(self, estudante: Estudante, descricao: str, midia: MidiaDigital):
        """
        Estudante envia uma mem√≥ria com status pendente.
        """
        builder = MemoriaPendenteBuilder()
        diretor = DiretorEnvioMemoria(builder)
        memoria = diretor.construirMemoria(descricao, midia)

        estudante.adicionar_memoria(memoria)
        print("üì® Mem√≥ria enviada com sucesso! Aguardando aprova√ß√£o.")
        return memoria

    def aprovar_memoria(self, memoria: Memoria):
        self.administrador.aprovar(memoria)

    def rejeitar_memoria(self, memoria: Memoria):
        self.administrador.rejeitar(memoria)


# -------------------------
# EXEMPLO DE USO
# -------------------------

if __name__ == "__main__":
    admin = Administrador()
    estudante = Estudante("Jo√£o da Silva")

    fachada = FachadaMemoria(admin)

    # Envio de mem√≥ria
    memoria = fachada.enviar_memoria(
        estudante,
        descricao="Foto com amigos na faculdade",
        midia=Imagem("fotos/formatura.jpg")
    )

    print(memoria)

    # Aprova√ß√£o da mem√≥ria
    fachada.aprovar_memoria(memoria)
    print(memoria)
```

</details>

<details>
<summary>Vers√£o do Cairo Floren√ßo:</summary>

#### Cairo

GoF Estrutural Facade

```python
class ValidadorDeMemoria:
    def validar(self, memoria: Memoria):
        if not memoria.imagem_url:
            raise ValueError("Imagem obrigat√≥ria")
        if not memoria.titulo:
            raise ValueError("T√≠tulo obrigat√≥rio")
        if not memoria.descricao:
            raise ValueError("Descri√ß√£o obrigat√≥ria")
        if not memoria.data_memoria:
            raise ValueError("Data da mem√≥ria obrigat√≥ria")

class ArmazenacaoDeMemoria:
    def salvar(self, memoria: Memoria):
        print("Nova mem√≥ria salva no banco de dados")

class NotificacaoAdmin:
    def notificar(self, memoria: Memoria):
        print("Admin notificado sobre nova mem√≥ria enviada")

class EnvioDeMemoriaFacade:
    def __init__(self):
        self.validador = ValidadorDeMemoria()
        self.armazenamento = ArmazenacaoDeMemoria()
        self.notificacao = NotificacaoAdmin()

    def enviar_memoria(self, memoria: Memoria):
        self.validador.validar(memoria)
        self.armazenamento.salvar(memoria)
        self.notificacao.notificar(memoria)
        print("Envio conclu√≠do com sucesso")
```

</details>


</details>




## Hist√≥rico de Vers√£o

| Vers√£o | Data | Descri√ß√£o | Autor(es) | Revisor(es) | Coment√°rio do Revisor |
| :-: | :-: | :-: | :-: | :-: | :-: |
| 1.0 | 22/05 | Primeira vers√£o do GoF | Pedro Gois | Pedro Gois | - |
| 1.1 | 23/05 | Adicionando minha vers√£o de GoF Estrutural Facade | Cairo Floren√ßo | | - |
| 1.2 | 30/05 | Atualizando minha vers√£o de GoF Estrutural Facade | Pedro Gois | | - |