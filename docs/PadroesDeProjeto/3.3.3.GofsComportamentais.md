# 3.3.3 M√≥dulo Padr√µes de Projeto GoFs Comportamentais

## GoF FINAL

<img src="(COLOCAR IMAGEM AQUI)"/>

### Vers√µes desenvolvidas

<details>
<summary>Vers√£o do Pedro Gois:</summary>

#### Pedro
Method
```python
from abc import ABC, abstractmethod
from datetime import datetime
from enum import Enum


# -------------------------
# ENUM E CLASSES DE SUPORTE
# -------------------------

class Status(Enum):
    PENDENTE = "pendente"
    APROVADA = "aprovada"
    REJEITADA = "rejeitada"


class MidiaDigital(ABC):
    @abstractmethod
    def tipo(self):
        pass


class Imagem(MidiaDigital):
    def __init__(self, caminho_arquivo):
        self.caminho_arquivo = caminho_arquivo

    def tipo(self):
        return "Imagem"


# -------------------------
# CLASSE DE MEM√ìRIA
# -------------------------

class Memoria:
    def __init__(self, descricao, midia, data_envio, status):
        self.descricao = descricao
        self.midia = midia
        self.data_envio = data_envio
        self.status = status

    def __str__(self):
        return (f"Mem√≥ria enviada em {self.data_envio.strftime('%d/%m/%Y %H:%M:%S')}, "
                f"status: {self.status.name}, descri√ß√£o: {self.descricao}, "
                f"m√≠dia: {self.midia.tipo()}")


# -------------------------
# TEMPLATE METHOD: Compartilhador
# -------------------------

class CompartilhadorMemoria(ABC):
    def compartilhar(self, memoria: Memoria):
        self.validar_memoria(memoria)
        url = self.gerar_url(memoria)
        return self.formatar_link(url)

    def validar_memoria(self, memoria):
        if memoria.status != Status.APROVADA:
            raise ValueError("‚ö†Ô∏è S√≥ √© poss√≠vel compartilhar mem√≥rias que foram aprovadas.")

    def gerar_url(self, memoria):
        # Em um sistema real, voc√™ teria uma URL com slug ou ID real.
        return f"https://meusite.com/memorias/{id(memoria)}"

    @abstractmethod
    def formatar_link(self, url: str):
        pass


# -------------------------
# IMPLEMENTA√á√ïES CONCRETAS
# -------------------------

class CompartilhadorWhatsApp(CompartilhadorMemoria):
    def formatar_link(self, url):
        texto = f"Veja essa mem√≥ria incr√≠vel: {url}"
        return f"https://wa.me/?text={texto.replace(' ', '%20')}"


class CompartilhadorEmail(CompartilhadorMemoria):
    def formatar_link(self, url):
        assunto = "Mem√≥ria Compartilhada"
        corpo = f"Veja essa mem√≥ria: {url}"
        return f"mailto:?subject={assunto.replace(' ', '%20')}&body={corpo.replace(' ', '%20')}"


class CompartilhadorLinkDireto(CompartilhadorMemoria):
    def formatar_link(self, url):
        return url


# -------------------------
# USO DO TEMPLATE METHOD
# -------------------------

if __name__ == "__main__":
    # Cria√ß√£o de uma mem√≥ria aprovada
    memoria = Memoria(
        descricao="Foto da formatura com os amigos",
        midia=Imagem("formatura.jpg"),
        data_envio=datetime.now(),
        status=Status.APROVADA
    )

    # Lista de canais de compartilhamento
    compartilhadores = [
        CompartilhadorWhatsApp(),
        CompartilhadorEmail(),
        CompartilhadorLinkDireto()
    ]

    print(f"\nüéì Compartilhando: {memoria.descricao}\n")

    for compartilhador in compartilhadores:
        nome_canal = compartilhador.__class__.__name__.replace("Compartilhador", "")
        link = compartilhador.compartilhar(memoria)
        print(f"{nome_canal}: {link}")
```

</details>

<details>
<summary>Vers√£o do Cairo Floren√ßo:</summary>

```python

```

</details>

<details>
<summary>Vers√£o do Gabriel:</summary>

```python
```

</details>


</details>



## Hist√≥rico de Vers√£o

| Vers√£o | Data | Descri√ß√£o | Autor(es) | Revisor(es) | Coment√°rio do Revisor |
| :-: | :-: | :-: | :-: | :-: | :-: |
| 1.0 | 22/05 | Primeira vers√£o do GoF | Pedro Gois | Pedro Gois | - |
| 1.1 | 30/05 | segunda vers√£o do GoF | Pedro Gois | Pedro Gois | - |
